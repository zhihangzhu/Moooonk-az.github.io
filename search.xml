<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>diary20200911</title>
      <link href="/2020/09/11/diary20200911/"/>
      <url>/2020/09/11/diary20200911/</url>
      
        <content type="html"><![CDATA[<p>今天一直在分memoryaccess以及memorydependence，今天走入了一个误区：在LLVM的官方文档中，我发现了memoryaccess中的walker里有描述clobber的地方，但是经过请教同事，我发现这个clobber只是单纯的使用这个单词而已，而我一直在这份文档中试图找寻clobber的定义以及例子，真是丢大了。</p><p>clobber的作用更类似于temp register。</p><p>由于优先级安排，这件事情要先放一放了，我会在后续把这次的收获，memorydependenceAnalysis的观后感分析写一波，或许在周末。</p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>memorydependenceanalysis</title>
      <link href="/2020/09/09/memorydependenceanalysis/"/>
      <url>/2020/09/09/memorydependenceanalysis/</url>
      
        <content type="html"><![CDATA[<p>排版练习中</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> b = a * <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> c = a + b + <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>简单描述，上述三行代码，a,b,c之间是有依赖关系的，b需要a的值，c需要b的值更新，这就是依赖，由于指令需要提高并发度，所以其实是必须等  a st(store)到一个register中，然后b才能调用这个register，后续一样，c必须等b st；这是最简单的例子。最近在分析一个bug中，不是以IR级别而是BB（basic blocks)级别；到目前为止，需要调整它的alignment还是删除掉这条ld（load），我尚无结论。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%1 &#x3D; vload &lt;4 * i16&gt;  %2 align 4</span><br></pre></td></tr></table></figure><p>从check而言这是不合理的，但是如果改成align 8，是正确的吗，为什么在第一次instr combine的过程不将align调整为8 而是 4。</p>]]></content>
      
      
      <categories>
          
          <category> LLVM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> llvm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
